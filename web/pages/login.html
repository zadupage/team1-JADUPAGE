<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZADU 로그인</title>
    <link rel="stylesheet" href="../styles/login.css" />
  </head>
  <body>
    <main class="login-page">
      <!-- 로고 -->
      <h1 class="brand">
        <img src="/web/assets/images/Logo-jadu-lg.png" alt="ZADU 로고" />
      </h1>

      <!-- 로그인 카드 -->
      <section class="login-card" aria-label="로그인 영역">
        <!-- 탭 -->
        <div class="tabs" role="tablist" aria-label="로그인 유형 선택">
          <button
            type="button"
            class="tab is-active"
            role="tab"
            aria-selected="true"
            data-role="buyer"
          >
            구매회원 로그인
          </button>
          <button
            type="button"
            class="tab"
            role="tab"
            aria-selected="false"
            data-role="seller"
          >
            판매회원 로그인
          </button>
        </div>

        <!-- 폼 -->
        <form class="form" id="loginForm" action="#" method="post">
          <label class="field">
            <span class="label">아이디</span>
            <input
              type="text"
              id="userId"
              name="id"
              placeholder="아이디"
              autocomplete="username"
            />
          </label>

          <label class="field">
            <span class="label">비밀번호</span>
            <input
              type="password"
              id="userPw"
              name="pw"
              placeholder="비밀번호"
              autocomplete="current-password"
            />
          </label>
          <!-- 에러 메시지 영역-->
          <p class="error-message" id="errorMessage"></p>
          <!--로그인 버튼-->
          <button class="submit" type="submit">로그인</button>
          <!--회원가입 및 비밀번호 찾기 버튼-->
          <div class="links">
            <a href="signup.html">회원가입</a>
            <span class="dot">|</span>
            <a href="#">비밀번호 찾기</a>
          </div>
        </form>
      </section>
    </main>

    <script>
      const tabs = document.querySelectorAll(".tab");
      tabs.forEach((btn) => {
        btn.addEventListener("click", () => {
          tabs.forEach((t) => {
            t.classList.remove("is-active");
            t.setAttribute("aria-selected", "false");
          });
          btn.classList.add("is-active");
          btn.setAttribute("aria-selected", "true");
        });
      });
      const form = document.getElementById("loginForm");
      const userId = document.getElementById("userId");
      const userPw = document.getElementById("userPw");
      const errorMessage = document.getElementById("errorMessage");

      form.addEventListener("submit", (e) => {
        e.preventDefault(); // 폼 전송 막기

        const id = userId.value.trim();
        const pw = userPw.value.trim();

        // 아이디, 비밀번호 모두 공란 OR 비밀번호만 입력
        if ((!id && !pw) || (!id && pw)) {
          errorMessage.textContent = "아이디를 입력해 주세요.";
          userId.focus();
          return;
        }

        // 아이디만 입력
        if (id && !pw) {
          errorMessage.textContent = "비밀번호를 입력해 주세요.";
          userPw.focus();
          return;
        }

        // 아이디, 비밀번호 불일치 (임시 조건)
        const CORRECT_ID = "test";
        const CORRECT_PW = "1234";

        if (id !== CORRECT_ID || pw !== CORRECT_PW) {
          errorMessage.textContent =
            "아이디 또는 비밀번호가 일치하지 않습니다.";
          return;
        }

        // 성공
        errorMessage.textContent = "";
        alert("로그인 성공!");
      });
    </script>
  </body>
</html>
