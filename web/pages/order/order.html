<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>주문/결제하기</title>

    <!-- 공통 폰트/레이아웃/페이지 CSS -->

    <link rel="stylesheet" href="../../styles/fonts.css" />
    <link rel="stylesheet" href="../../components/layout.css" />
    <link rel="stylesheet" href="../../styles/order.css" />
  </head>

  <body>
    <!-- layout.html에서 header/footer만 가져와서  -->
    <header id="site-header"></header>

    <main id="page-main">
      <div class="wrap">
        <h2 class="title">주문/결제하기</h2>

        <!-- 주문 상품 테이블 -->
        <section class="orderBox" aria-label="주문 상품 정보">
          <div class="orderHeadRow" role="row">
            <div class="colProduct">상품정보</div>
            <div class="colSale">할인</div>
            <div class="colShip">배송비</div>
            <div class="colPrice">주문금액</div>
          </div>

          <div id="orderList" class="orderList" aria-live="polite"></div>

          <div class="orderTotalRow">
            <span class="orderTotalLabel">총 주문금액</span>
            <span id="sumPrice" class="orderTotalPrice">0원</span>
          </div>
        </section>

        <!-- 배송정보 -->
        <section class="shipBox" aria-label="배송정보">
          <h3 class="shipTitle">배송정보</h3>

          <div class="shipSection">
            <div class="shipSubTitle">주문자 정보</div>

            <div class="row">
              <div class="label">이름</div>
              <input id="ordererName" class="input name" type="text" />
            </div>

            <div class="row">
              <div class="label">휴대폰</div>
              <div class="phoneGroup">
                <input
                  id="ordererPhone1"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="3"
                />
                <span class="dash">-</span>
                <input
                  id="ordererPhone2"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="4"
                />
                <span class="dash">-</span>
                <input
                  id="ordererPhone3"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="4"
                />
              </div>
            </div>

            <div class="row">
              <div class="label">이메일</div>
              <input id="ordererEmail" class="input email" type="email" />
            </div>
          </div>

          <div class="shipSection">
            <div class="shipSubTitle">배송지 정보</div>

            <div class="row">
              <div class="label">수령인</div>
              <input id="receiverName" class="input name" type="text" />
            </div>

            <div class="row">
              <div class="label">휴대폰</div>
              <div class="phoneGroup">
                <input
                  id="receiverPhone1"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="3"
                />
                <span class="dash">-</span>
                <input
                  id="receiverPhone2"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="4"
                />
                <span class="dash">-</span>
                <input
                  id="receiverPhone3"
                  class="input phone"
                  type="text"
                  inputmode="numeric"
                  maxlength="4"
                />
              </div>
            </div>

            <div class="row">
              <div class="label">배송주소</div>
              <div class="addrTop">
                <input
                  id="postcode"
                  class="input postcode"
                  type="text"
                  placeholder="우편번호"
                  readonly
                />
                <button id="btnPostcode" class="btnPostcode" type="button">
                  우편번호 조회
                </button>
              </div>
            </div>

            <div class="row addrRow">
              <input
                id="address"
                class="input addr"
                type="text"
                placeholder="주소"
                readonly
              />
            </div>

            <div class="row addrRow2">
              <input
                id="detailAddress"
                class="input addr2"
                type="text"
                placeholder="상세주소"
              />
              <input
                id="extraAddress"
                class="input addr2"
                type="text"
                placeholder="참고항목"
                readonly
              />
            </div>
          </div>

          <div class="shipSection">
            <div class="row">
              <div class="label">배송 메시지</div>
              <input
                id="shipMsg"
                class="input msg"
                type="text"
                placeholder="예) 문 앞에 놓아주세요"
              />
            </div>
          </div>
        </section>

        <!-- 하단: 결제수단(좌) + 최종결제정보(우) -->
        <section class="bottomGrid" aria-label="결제수단 및 최종결제 정보">
          <div class="payLeft">
            <div class="payHead">
              <h3 class="payTitle">결제수단</h3>
              <div class="payLine"></div>
            </div>

            <div class="payMethods" role="radiogroup" aria-label="결제수단">
              <label class="radio"
                ><input type="radio" name="pay" value="card" checked />
                신용/체크카드</label
              >
              <label class="radio"
                ><input type="radio" name="pay" value="bank" />
                무통장입금</label
              >
              <label class="radio"
                ><input type="radio" name="pay" value="phone" /> 휴대폰
                결제</label
              >
              <label class="radio"
                ><input type="radio" name="pay" value="naverpay" />
                네이버페이</label
              >
              <label class="radio"
                ><input type="radio" name="pay" value="kakaopay" />
                카카오페이</label
              >
            </div>
          </div>

          <div class="payRight">
            <!-- 최종결제정보 -->
            <h3 class="finalTitle">최종결제 정보</h3>

            <div class="finalBox">
              <div class="finalRow">
                <span>상품금액</span>
                <span><b id="finalProduct">0</b>원</span>
              </div>
              <div class="finalRow">
                <span>할인금액</span>
                <span><b id="finalDiscount">0</b>원</span>
              </div>
              <div class="finalRow">
                <span>배송비</span>
                <span><b id="finalShip">0</b>원</span>
              </div>

              <div class="finalHr"></div>

              <div class="finalRow total">
                <span>결제금액</span>
                <span class="priceRed"><b id="finalTotal">0</b>원</span>
              </div>

              <label class="agree">
                <input id="agreeCheck" type="checkbox" />
                <span
                  >주문 내용을 확인하였으며, 정보 제공 등에 동의합니다.</span
                >
              </label>

              <!-- 버튼은 항상 초록색(enabled 고정) -->
              <button id="btnPay" class="btnPay enabled" type="button">
                결제하기
              </button>
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer id="site-footer"></footer>

    <!-- 모달 (hidden으로 기본 숨김) -->
    <div id="modalBack" class="modalBack" hidden>
      <div class="modal" role="dialog" aria-modal="true">
        <button id="modalX" class="modalX" type="button" aria-label="닫기">
          ×
        </button>
        <div class="modalBody">
          <p id="modalText" class="modalText">
            배송정보를 빠짐없이 입력해주세요.
          </p>
        </div>
        <button id="modalOk" class="modalOk" type="button">확인</button>
      </div>
    </div>

    <!-- Daum 우편번호 (팝업 방식) -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

    <script src="./order.js"></script>
  </body>
</html>
